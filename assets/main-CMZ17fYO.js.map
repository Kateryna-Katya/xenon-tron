{"version":3,"file":"main-CMZ17fYO.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * XenonTron Project - Ultimate Stable Script\n * Исправлено: Мобильное меню + Анимация секций + Синхронизация Lenis\n */\n\nwindow.addEventListener('load', () => {\n    // 1. Инициализация иконок Lucide\n    lucide.createIcons();\n\n    // 2. Инициализация Lenis (Smooth Scroll)\n    const lenis = new Lenis({\n        duration: 1.2,\n        smoothWheel: true,\n        wheelMultiplier: 1,\n    });\n\n    // Синхронизация со ScrollTrigger\n    lenis.on('scroll', ScrollTrigger.update);\n\n    gsap.ticker.add((time) => {\n        lenis.raf(time * 1000);\n    });\n    gsap.ticker.lagSmoothing(0);\n\n    // 3. Регистрация GSAP ScrollTrigger\n    gsap.registerPlugin(ScrollTrigger);\n\n    // --- 4. МОБИЛЬНОЕ МЕНЮ (ИСПРАВЛЕНО) ---\n    const burger = document.querySelector('.burger');\n    const mobileMenu = document.querySelector('.mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-link');\n\n    if (burger && mobileMenu) {\n        const toggleMenu = () => {\n            const isActive = burger.classList.toggle('active');\n            mobileMenu.classList.toggle('active');\n            \n            if (isActive) {\n                // Останавливаем скролл Lenis и блокируем body\n                lenis.stop();\n                document.body.style.overflow = 'hidden';\n            } else {\n                // Запускаем скролл обратно\n                lenis.start();\n                document.body.style.overflow = '';\n            }\n        };\n\n        burger.addEventListener('click', (e) => {\n            e.preventDefault();\n            toggleMenu();\n        });\n\n        // Закрытие при клике на ссылки\n        mobileLinks.forEach(link => {\n            link.addEventListener('click', () => {\n                if (mobileMenu.classList.contains('active')) {\n                    toggleMenu();\n                }\n            });\n        });\n    }\n\n    // --- 5. ХЕДЕР (ЭФФЕКТ ПРИ СКРОЛЛЕ) ---\n    const header = document.querySelector('.header');\n    window.addEventListener('scroll', () => {\n        if (header) {\n            header.classList.toggle('header--scrolled', window.scrollY > 50);\n        }\n    });\n\n    // --- 6. ИНИЦИАЛИЗАЦИЯ АНИМАЦИЙ ---\n    const initAllAnimations = () => {\n        \n        // Hero\n        gsap.from('.hero__content > *', {\n            y: 40,\n            opacity: 0,\n            duration: 1,\n            stagger: 0.2,\n            ease: \"power4.out\"\n        });\n\n        // Секция Education (Легко разобраться без опыта)\n        const eduCards = document.querySelectorAll('.edu-card');\n        eduCards.forEach((card) => {\n            // Прячем через GSAP для предотвращения мигания\n            gsap.set(card, { autoAlpha: 0, y: 50 });\n\n            const tl = gsap.timeline({\n                scrollTrigger: {\n                    trigger: card,\n                    start: \"top 85%\", \n                    toggleActions: \"play none none none\",\n                    invalidateOnRefresh: true, \n                }\n            });\n\n            tl.to(card, {\n                autoAlpha: 1, \n                y: 0,\n                duration: 0.8,\n                ease: \"power3.out\"\n            })\n            .from(card.querySelectorAll('.edu-list li'), {\n                x: -20,\n                opacity: 0,\n                stagger: 0.15,\n                duration: 0.5,\n                ease: \"power2.out\"\n            }, \"-=0.4\");\n        });\n\n        // Блог\n        document.querySelectorAll('.blog-item').forEach((item) => {\n            gsap.from(item, {\n                scrollTrigger: {\n                    trigger: item,\n                    start: \"top 90%\",\n                },\n                y: 30,\n                opacity: 0,\n                duration: 0.8\n            });\n        });\n\n        // Инновации (AI Core)\n        const viz = document.querySelector('.innovations__viz');\n        if (viz) {\n            gsap.from(viz, {\n                scrollTrigger: {\n                    trigger: \".innovations\",\n                    start: \"top 80%\",\n                },\n                scale: 0.6,\n                opacity: 0,\n                duration: 1.2,\n                ease: \"back.out(1.7)\"\n            });\n        }\n    };\n\n    // Запуск\n    initAllAnimations();\n\n    // ГАРАНТИЯ ПЕРЕСЧЕТА КООРДИНАТ\n    ScrollTrigger.refresh();\n    setTimeout(() => ScrollTrigger.refresh(), 500);\n    setTimeout(() => ScrollTrigger.refresh(), 1500);\n\n    // --- 7. КОНТАКТНАЯ ФОРМА ---\n    const contactForm = document.getElementById('ai-contact-form');\n    if (contactForm) {\n        const n1 = Math.floor(Math.random() * 8) + 1;\n        const n2 = Math.floor(Math.random() * 5) + 1;\n        const result = n1 + n2;\n        const label = document.getElementById('captcha-label');\n        if (label) label.textContent = `Сколько будет ${n1} + ${n2}?`;\n\n        contactForm.onsubmit = (e) => {\n            e.preventDefault();\n            const captchaInput = document.getElementById('captcha-input');\n            if (parseInt(captchaInput.value) !== result) {\n                alert('Пожалуйста, решите пример правильно.'); \n                return;\n            }\n            const btn = contactForm.querySelector('button');\n            btn.disabled = true; \n            btn.textContent = 'Отправка...';\n            \n            setTimeout(() => {\n                const msg = document.getElementById('form-message');\n                msg.style.display = 'block';\n                msg.className = 'form__message success';\n                msg.textContent = 'Запрос успешно отправлен!';\n                contactForm.reset();\n                btn.textContent = 'Готово';\n            }, 1000);\n        };\n    }\n\n    // --- 8. COOKIE POPUP ---\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieAccept = document.getElementById('cookie-accept');\n    if (cookiePopup && !localStorage.getItem('xenon_cookies')) {\n        setTimeout(() => cookiePopup.classList.add('active'), 3000);\n        if (cookieAccept) {\n            cookieAccept.onclick = () => {\n                localStorage.setItem('xenon_cookies', 'true');\n                cookiePopup.classList.remove('active');\n            };\n        }\n    }\n});"],"names":["lenis","time","burger","mobileMenu","mobileLinks","toggleMenu","isActive","e","link","header","card","item","viz","contactForm","n1","n2","result","label","captchaInput","btn","msg","cookiePopup","cookieAccept"],"mappings":"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"}